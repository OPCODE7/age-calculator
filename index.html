<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">
  <title>Frontend Mentor | Age calculator app</title>
  <link rel="stylesheet" href="styles.css">

</head>

<body>
  <section class="container">
    <article class="container__date">
      <div class="container__date__input">
        <label for="day">Day</label>
        <input type="text" placeholder="DD" id="day" maxlength="2" min="1" max="31">
        <span class="error-day opacity-0">Must be a valid day</span>
      </div>
      <div class="container__date__input">
        <label for="month">Month</label>
        <input type="text" placeholder="MM" id="month" maxlength="2" min="1" max="12">
        <span class="error-month opacity-0">Must be a valid month</span>
      </div>
      <div class="container__date__input">
        <label for="year">Year</label>
        <input type="text" placeholder="YYYY" id="year" maxlength="4" min="1970">
        <span class="error-year opacity-0">Must be in the past</span>
      </div>
    </article>
    <article class="container__arrow">
      <span class="container__arrow__decoration"></span>
      <img src="assets/images/icon-arrow.svg" alt="icon-arrow" class="container__arrow__img">

    </article>
    
    <article class="container__results">
      <p class="container__results__item"><span class="container__results__item__result">--</span>years</p>
      <p class="container__results__item"><span class="container__results__item__result">--</span>months</p>
      <p class="container__results__item"><span class="container__results__item__result">--</span>days</p>
    </article>
  </section>

  <script>
    const d= document;
    const $btnCalculator= d.querySelector(".container__arrow__img"),
    $day= d.getElementById("day"),
    $month= d.getElementById("month"),
    $year= d.getElementById("year"),
    $errorDay= d.querySelector(".error-day"),
    $errorMonth= d.querySelector(".error-month"),
    $errorYear= d.querySelector(".error-year");
    let date= new Date();
    let currentYear= date.getFullYear();
    
    
    $btnCalculator.addEventListener("click", e =>{
      let day= parseInt($day.value);
      let month= parseInt($month.value);
      let year= parseInt($year.value);

      if(!(day >= 1 && day <=31)){
        $day.classList.add("border-red");
        $day.focus();
        $errorDay.classList.remove("opacity-0");
      }else{
        if($day.classList.contains("border-red")) $day.classList.remove("border-red");
        $errorDay.classList.add("opacity-0");
      }

      validateInput(!(day >= 1 && day <=31),$day,$errorDay);
      validateInput(!(month >= 1 && month <=12),$month,$errorMonth);
      validateInput(!(year >= 1970 && year <= currentYear),$year,$errorYear);


    });

    function validateInput(condition,input,message){
      if(condition){
        input.classList.add("border-red");
        input.focus();
        message.classList.remove("opacity-0");
      }else{
        if(input.classList.contains("border-red")) input.classList.remove("border-red");
        message.classList.add("opacity-0");
      }
    }
    
  </script>

</body>

</html>